---
id: noumea
title: Carte - Ville de Nouméa
description:
    La maquette d'application de cartographie Web que Mapgears et ses
    partenaires SiGéO et SCSI ont proposé à la ville de Nouméa,
    Nouvelle-Calédonie.
created: !!timestamp '2012-12-12 12:00:00'
tags:
    - extjs
    - geoext
    - mapcache
    - mapfishprint
    - mapserver
    - openlayers
    - pgrouting
    - tinyows
live: http://noumea.mapgears.com/
preview: noumea-preview.jpg
thumbnail: noumea-thumb.jpg
---

{# jinja variables  #}
{% set img_search = media_url('images/noumea-screenshot-searchtools.jpg') %}
{% set img_circle = media_url('images/noumea-screenshot-searchcircle.jpg') %}
{% set img_result = media_url('images/noumea-screenshot-searchcircleresults.jpg') %}
{% set img_detour = media_url('images/noumea-screenshot-routing-detour.jpg') %}
{% set img_video  = media_url('images/noumea-video.jpg') %}
{% set url_video  = "http://youtu.be/LY2098-0xgU" %}

{# markdown links #}
[extjs]:      {{links.extjs}}
[geoext]:     {{links.geoext}}
[mapcache]:   {{links.mapcache}}
[mapfishprint]: {{links.mapfishprint}}
[mapserver]:  {{links.mapserver}}
[openlayers]: {{links.openlayers}}
[pgrouting]:  {{links.pgrouting}}
[tinyows]:    {{links.tinyows}}

[video]: {{ url_video }}
[svg]: http://mapserver.org/output/svg.html
[blog_smercier]: http://simonmercier.net/blog/?p=1214
[sigeo]: http://sigeo.lagoon.nc/
[scsi]: http://www.scsi.nc/
[mapgears]: {{ links.mapgears }}
[img_search]: {{ img_search }}
[img_circle]: {{ img_circle }}
[img_result]: {{ img_result }}
[img_detour]: {{ img_detour }}
[img_video]: {{ img_video }}

[live]:    {{resource.meta.live}}
[preview]: {{media_url('images/'~resource.meta.preview)}}

{% mark excerpt -%}
La maquette d'application de cartographie Web que Mapgears et ses
partenaires SiGéO et SCSI ont proposé à la ville de Nouméa.
{%- endmark %}

<p><a href="{{resource.meta.live}}">
![Preview][preview]
</a></p>

## La demande d'origine

Pendant l'automne 2012, la ville de Nouméa en Nouvelle-Calédonie était
en phase de refaire une beauté à son site Web. Du même coup, ils
avaient besoin d'une application de cartographie Web pour rendre
disponible leurs données géospatiales au grand public.

[Mapgears][mapgears] a été appelée à produire une maquette de cette
application en partenariat avec [SiGéO][sigeo] et [SCSI][scsi], des
entreprises locales de Nouvelle-Calédonie.

## Les technologies utilisées

L'application a été construite entièrement avec des technologies à
licence libre. La partie Web est basée sur OpenLayers comme moteur
cartographique principal et se marie avec GeoExt et ExtJS pour
offrir des outils tels que les curseurs d'opacité et de niveau de
zoom.

La partie serveur comprend MapServer pour dessiner la carte ainsi que
la légende. Celle-ci a été tuilée et servie par MapCache. Une couche
vectorielle de travaux publics est servie par TinyOWS en mode
éditable à l'aide du protocole de l'OGC WFS-T.  L'outil de routage est
basé sur pgRouting pour calculer les chemins les plus courts en
utilisant la donnée de la ville tout en contournant les travaux lorsque
possible. Le module MapFish Print permet l'exportation de la carte en PDF.

Le résultat est très impressionnant!

## Quelques outils particulièrement intéressants

Voici quelques détails supplémentaires concernant certains outils
particulièrement intéressants.

### Consultation des lieux d'intérêt et recherches

La consultation des lieux d'intérêt de la ville est très
intuitive. Ils sont classés en catégories accessibles par des boutons
avec menus déroulant en haut de la carte. En quelques clics, on
obtient un résultat filtré en fonction du type de lieu recherché. Un
clic sur un enregistrement retourné recentre la carte sur cet élément
qui est dorénavant surligné et une info-bulle affiche les informations
le concernant.

![Outils de recherche][img_search]

Un autre moyen d'obtenir l'information est à l'aide de l'outil de recherche
par saisie de texte. Les résultats obtenus suivent la même logique que
précedemment. Ce type de requête cherche dans toutes les données disponibles.

Un dernier outil de recherche spatiale, disponible en haut à droite de
l'interface, permet d'obtenir une liste de lieux d'intérêt dans un
rayon donné à partir du centre de la carte.

![Outils de recherche par périmètre][img_circle]

![Résultats de recherche par périmètre][img_result]

### Calcul d'itinéraire

Une fois l'outil activé, un premier clic dans la carte détermine le
lieu de départ et le second le lieu d'arrivée. Le chemin le plus court
est calculé et dessiné dans la carte. Ce qui intéressant est que
l'outil tient compte de la présence des travaux et les considère dans
ses calculs. Dans l'exemple ci-bas, la rue du Pasteur Maurice
LEENHARDT est en réparation tel qu'indiqué par le marqueur. L'outil
considère donc que de faire un détour est un meilleur parcours.

![Détour calculé par l'outil de meilleur parcours][img_detour]

### Astuces MapServer

Le rendu de la carte est très joli, particulièrement grâce à l'effet
de couleur dégradée et de la symbologie SVG. Simon Mercier
explique plus en détail la recette pour
[Produire un effet de couleur dégradée avec MapServer][blog_smercier]
dans son blogue. La [Symbologie SVG][svg] est supportée depuis MapServer 6.2
et augmente considérablement la qualité des symboles de la carte.

## Voir l'application en action

Vous pouvez [voir l'application en action][live] et avoir un <i>feeling</i>
de son niveau de professionalisme. Vous pouvez également [regarder
cette vidéo][video] qui explique en large ses fonctionnalités et
comment s'en servir.

<p><a href="{{ url_video }}">
  <img src="{{ img_video }}"
       alt="Vidéo" 
       title="Visionner le vidéo expliquant l'application" />
</a></p>

## Références

Pour en savoir plus à propos des technologies utilisées dans cette
application, visiter leur site web respectif: [ExtJS][extjs],
[GeoExt][geoext], [OpenLayers][openlayers], [MapFish
Print][mapfishprint][MapServer][mapserver], [MapCache][mapcache],
[pgRouting][pgrouting] et [TinyOWS][tinyows].